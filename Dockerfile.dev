# Development Dockerfile (optional, only if you prefer using a build instead of a direct Maven image)
FROM maven:3.9.0-eclipse-temurin-17

WORKDIR /app

# Copy pom.xml first to cache dependencies
COPY pom.xml .
RUN mvn dependency:go-offline

# The source code will be mounted as a volume, not copied into the image
# This allows hot reloading

# Expose the app port and the LiveReload port
EXPOSE 8080 35729

# Run Maven in watch mode (spring-boot:run has automatic hot reload with devtools)
CMD ["mvn", "spring-boot:run"]
